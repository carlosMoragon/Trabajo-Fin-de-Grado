# Trabajo-Fin-de-Grado

## Diseño del servicio REST:

| **Método** | **Ruta**         | **Descripción**                                                                                     | **Input**                                                                                                                                                                                                                                                                                           | **Output**                                                                                                                                                                                                                                                                                                                                                                                                                                           | **Códigos de Respuesta**                                                                                              |
|------------|------------------|-----------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
| POST       | `/predict`       | Predice la mejor configuración para separar una familia de metabolitos. Recibe una familia y devuelve una configuración adecuada. | ```json { "family": "Familia de Metabolitos" } ```                                                                                                                                                                                                                                                 | ```json { "configuration": { "eluyente1": "Eluyente A", "eluyente2": "Eluyente B", "ph1": 3.5, "ph2": 7.0, "eluyente_1_gradiente": [0, 10, 20, 30], "eluyente_2_gradiente": [0, 5, 10, 15], "t_gradiente": [0, 2, 4, 6], "columna": { "name": "Columna X", "usp_code": "1234", "length": 15, "particle_size": 5, "temperature": 30, "flowrate": 1.0, "t0": 0.5 } } } ``` | 200: Configuración predicha correctamente.<br>400: Solicitud mal formada, falta el campo "family" o es incorrecto.<br>404: Familia de metabolitos no encontrada. |
| POST       | `/evaluate`      | Evalúa qué tan buena es una configuración para una familia de metabolitos. Recibe una familia y una configuración, y devuelve un número que indica la calidad de la configuración. | ```json { "family": "Familia de Metabolitos", "configuration": { "eluyente1": "Eluyente A", "eluyente2": "Eluyente B", "ph1": 3.5, "ph2": 7.0, "eluyente_1_gradiente": [0, 10, 20, 30], "eluyente_2_gradiente": [0, 5, 10, 15], "t_gradiente": [0, 2, 4, 6], "columna": { "name": "Columna X", "usp_code": "1234", "length": 15, "particle_size": 5, "temperature": 30, "flowrate": 1.0, "t0": 0.5 } } } ``` | ```json { "score": 85.5 } ```  | 200: Evaluación completada correctamente.<br>400: Solicitud mal formada, falta "family" o "configuration".<br>404: Familia de metabolitos no encontrada. |
| GET        | `/families`      | Obtiene un listado de las familias de metabolitos con las que trabajamos.                            | Ninguno                                                                                                                                                                                                                                                                                              | ```json [ "Familia1", "Familia2", "Familia3" ] ```                                                                                                                                                                                                                                                                                                                                                                                                  | 200: Listado de familias de metabolitos.<br>404: No se encontraron familias de metabolitos disponibles. |
| POST       | `/experiments`   | Añade información sobre un experimento a la base de datos.                                          | ```json { "name_metabolito": "Metabolito A", "formula": "C6H12O6", "rt": 5.5, "smiles_std": "C(CO)O", "inchi_std": "InChI=1S/C6H12O6", "inchikey_std": "BQJCRHHNABKAKU-UHFFFAOYSA-N", "classyfire": { "kingdom": "Kingdom A", "superclass": "Superclass A", "class": "Class A", "subclass": "Subclass A", "level5": "Level 5A", "level6": "Level 6A" }, "comment": "Experiment Comment", "alternative_parents": "Parent A", "column": { "name": "Columna A", "usp_code": "1234", "length": 15, "particle_size": 5, "temperature": 30, "flowrate": 1.0, "t0": 0.5 }, "gradiente": { "eluyente1": "Eluyente A", "eluyente2": "Eluyente B", "t_gradiente": [0, 10, 20, 30], "ph1": 3.5, "ph2": 7.0 } } ``` | 200: Información del experimento añadida correctamente. | 400: Solicitud mal formada, falta uno o más campos esenciales. |
| POST       | `/recommend-family` | Recomienda la familia de metabolitos más adecuada para una configuración dada.                   | ```json { "configuration": { "eluyente1": "Eluyente A", "eluyente2": "Eluyente B", "ph1": 3.5, "ph2": 7.0, "eluyente_1_gradiente": [0, 10, 20, 30], "eluyente_2_gradiente": [0, 5, 10, 15], "t_gradiente": [0, 2, 4, 6], "columna": { "name": "Columna X", "usp_code": "1234", "length": 15, "particle_size": 5, "temperature": 30, "flowrate": 1.0, "t0": 0.5 } } } ``` | ```json { "family": "Familia de Metabolitos Recomendadas" } ``` | 200: Familia recomendada correctamente.<br>400: Solicitud mal formada, falta el campo "configuration".<br>404: No se encontró una familia adecuada para la configuración proporcionada. |
