# Trabajo-Fin-de-Grado

## API Design

| **Method** | **Route**              | **Description**                                                                                      | **Input**                                                                                                                                                                                                                                                                                           | **Output**                                                                                                                                                                                                                                                                                                                                                                                 | **Response Codes**                                                                                              |
|------------|------------------------|------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
| POST       | `/predict`             | Predicts the best configuration for separating a metabolite family. Receives a family and returns an optimal configuration. | ```json { "family": "Metabolite Family" } ``` | ```json { "configuration": { "eluyente1": "Eluyente A", "eluyente2": "Eluyente B", "ph1": 3.5, "ph2": 7.0, "eluyente_1_gradiente": [0, 10, 20, 30], "eluyente_2_gradiente": [0, 5, 10, 15], "t_gradiente": [0, 2, 4, 6], "columna": { "name": "Column X", "usp_code": "1234", "length": 15, "particle_size": 5, "temperature": 30, "flowrate": 1.0, "t0": 0.5 } } } ```  | 200: Configuration predicted successfully.<br>400: Bad request, missing "family" field or incorrect family.<br>404: Metabolite family not found. |
| POST       | `/evaluate/alpha`      | Evaluates the "alpha" score of a configuration for a metabolite family. It receives a family and a configuration and returns the alpha score. | ```json { "family": "Metabolite Family", "configuration": { "eluyente1": "Eluyente A", "eluyente2": "Eluyente B", "ph1": 3.5, "ph2": 7.0, "eluyente_1_gradiente": [0, 10, 20, 30], "eluyente_2_gradiente": [0, 5, 10, 15], "t_gradiente": [0, 2, 4, 6], "columna": { "name": "Column X", "usp_code": "1234", "length": 15, "particle_size": 5, "temperature": 30, "flowrate": 1.0, "t0": 0.5 } } } ``` | ```json { "alpha_score": 75.2 } ```  | 200: Alpha score evaluation completed successfully.<br>400: Bad request, missing "family" or "configuration".<br>404: Metabolite family not found. |
| POST       | `/evaluate/diff`       | Evaluates the "diff" score of a configuration for a metabolite family. It receives a family and a configuration and returns the diff score. | ```json { "family": "Metabolite Family", "configuration": { "eluyente1": "Eluyente A", "eluyente2": "Eluyente B", "ph1": 3.5, "ph2": 7.0, "eluyente_1_gradiente": [0, 10, 20, 30], "eluyente_2_gradiente": [0, 5, 10, 15], "t_gradiente": [0, 2, 4, 6], "columna": { "name": "Column X", "usp_code": "1234", "length": 15, "particle_size": 5, "temperature": 30, "flowrate": 1.0, "t0": 0.5 } } } ``` | ```json { "diff_score": 12.3 } ```  | 200: Diff score evaluation completed successfully.<br>400: Bad request, missing "family" or "configuration".<br>404: Metabolite family not found. |
| GET        | `/families`            | Gets a list of metabolite families that we work with.                                                   | None                                                                                                                                                                                                                                                                                               | ```json [ "Family1", "Family2", "Family3" ] ```                                                                                                                                                                                                                                                                                                      | 200: List of metabolite families retrieved successfully.<br>404: No metabolite families found. |
| POST       | `/experiments`         | Adds information about an experiment to the database.                                                  | ```json { "name_metabolito": "Metabolite A", "formula": "C6H12O6", "rt": 5.5, "smiles_std": "C(CO)O", "inchi_std": "InChI=1S/C6H12O6", "inchikey_std": "BQJCRHHNABKAKU-UHFFFAOYSA-N", "classyfire": { "kingdom": "Kingdom A", "superclass": "Superclass A", "class": "Class A", "subclass": "Subclass A", "level5": "Level 5A", "level6": "Level 6A" }, "comment": "Experiment Comment", "alternative_parents": "Parent A", "column": { "name": "Column A", "usp_code": "1234", "length": 15, "particle_size": 5, "temperature": 30, "flowrate": 1.0, "t0": 0.5 }, "gradiente": { "eluyente1": "Eluyente A", "eluyente2": "Eluyente B", "t_gradiente": [0, 10, 20, 30], "ph1": 3.5, "ph2": 7.0 } } ```  | 200: Experiment information added successfully.<br>400: Bad request, missing one or more essential fields. |
| POST       | `/recommend-family`    | Recommends the most suitable metabolite family for a given configuration.                             | ```json { "configuration": { "eluyente1": "Eluyente A", "eluyente2": "Eluyente B", "ph1": 3.5, "ph2": 7.0, "eluyente_1_gradiente": [0, 10, 20, 30], "eluyente_2_gradiente": [0, 5, 10, 15], "t_gradiente": [0, 2, 4, 6], "columna": { "name": "Column X", "usp_code": "1234", "length": 15, "particle_size": 5, "temperature": 30, "flowrate": 1.0, "t0": 0.5 } } } ``` | ```json { "family": "Recommended Metabolite Family" } ```  | 200: Family recommended successfully.<br>400: Bad request, missing "configuration" field.<br>404: No suitable family found for the given configuration. |
