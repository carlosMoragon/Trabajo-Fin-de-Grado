# Trabajo-Fin-de-Grado

# API Design

| Method | Route               | Description                                                       | Input                                                                                                                                                                                                                                                                                                           | Output                                                                                                                                                                                                                                                | Response Codes                                                                                          |
|--------|---------------------|-------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------|
| POST   | /predict            | Predicts the best configuration to separate a metabolite family.  | ```json { "family": "Metabolite Family" } ```                                                                                                                                                                                                                                                                     | ```json { "configuration": { "eluent1": "Eluent A", "eluent2": "Eluent B", "ph1": 3.5, "ph2": 7.0, "eluent_1_gradient": [0, 10, 20, 30], "eluent_2_gradient": [0, 5, 10, 15], "t_gradient": [0, 2, 4, 6], "column": { "name": "Column X", "usp_code": "1234", "length": 15, "particle_size": 5, "temperature": 30, "flowrate": 1.0, "t0": 0.5 } } } ``` | 200: Configuration predicted successfully. <br> 400: Malformed request, missing or incorrect "family" field. <br> 404: Metabolite family not found. |
| POST   | /evaluate/alpha      | Evaluates the alpha score for a given configuration.              | ```json { "family": "Metabolite Family", "configuration": { "eluent1": "Eluent A", "eluent2": "Eluent B", "ph1": 3.5, "ph2": 7.0, "eluent_1_gradient": [0, 10, 20, 30], "eluent_2_gradient": [0, 5, 10, 15], "t_gradient": [0, 2, 4, 6], "column": { "name": "Column X", "usp_code": "1234", "length": 15, "particle_size": 5, "temperature": 30, "flowrate": 1.0, "t0": 0.5 } } } ``` | ```json { "relativeScore": 85.5, "ownMethodScore": 90.0 } ``` | 200: Evaluation completed successfully. <br> 400: Malformed request, missing "family" or "configuration". <br> 404: Metabolite family not found. |
| POST   | /evaluate/diff       | Evaluates the difference score for a given configuration.         | ```json { "family": "Metabolite Family", "configuration": { "eluent1": "Eluent A", "eluent2": "Eluent B", "ph1": 3.5, "ph2": 7.0, "eluent_1_gradient": [0, 10, 20, 30], "eluent_2_gradient": [0, 5, 10, 15], "t_gradient": [0, 2, 4, 6], "column": { "name": "Column X", "usp_code": "1234", "length": 15, "particle_size": 5, "temperature": 30, "flowrate": 1.0, "t0": 0.5 } } } ``` | ```json { "relativeScore": 80.0, "ownMethodScore": 88.0 } ``` | 200: Evaluation completed successfully. <br> 400: Malformed request, missing "family" or "configuration". <br> 404: Metabolite family not found. |
| GET    | /families           | Retrieves a list of available metabolite families.                | None                                                                                                                                                                                                                                                                                                           | ```json [ "Family1", "Family2", "Family3" ] ```                                                                                                                                                                                                          | 200: List of metabolite families. <br> 404: No available metabolite families found. |
| POST   | /experiments        | Adds experiment information to the database.                      | ```json { "metabolite_name": "Metabolite A", "formula": "C6H12O6", "rt": 5.5, "smiles_std": "C(CO)O", "inchi_std": "InChI=1S/C6H12O6", "inchikey_std": "BQJCRHHNABKAKU-UHFFFAOYSA-N", "classyfire": { "kingdom": "Kingdom A", "superclass": "Superclass A", "class": "Class A", "subclass": "Subclass A", "level5": "Level 5A", "level6": "Level 6A" }, "comment": "Experiment Comment", "alternative_parents": "Parent A", "column": { "name": "Column A", "usp_code": "1234", "length": 15, "particle_size": 5, "temperature": 30, "flowrate": 1.0, "t0": 0.5 }, "gradient": { "eluent1": "Eluent A", "eluent2": "Eluent B", "t_gradient": [0, 10, 20, 30], "ph1": 3.5, "ph2": 7.0 } } ``` | None | 200: Experiment information added successfully. <br> 400: Malformed request, missing one or more essential fields. |
| POST   | /recommend-family   | Recommends the most suitable metabolite family for a given configuration. | ```json { "configuration": { "eluent1": "Eluent A", "eluent2": "Eluent B", "ph1": 3.5, "ph2": 7.0, "eluent_1_gradient": [0, 10, 20, 30], "eluent_2_gradient": [0, 5, 10, 15], "t_gradient": [0, 2, 4, 6], "column": { "name": "Column X", "usp_code": "1234", "length": 15, "particle_size": 5, "temperature": 30, "flowrate": 1.0, "t0": 0.5 } } } ``` | ```json { "family": "Recommended Metabolite Family" } ``` | 200: Family recommended successfully. <br> 400: Malformed request, missing "configuration" field. <br> 404: No suitable family found for the provided configuration. |
